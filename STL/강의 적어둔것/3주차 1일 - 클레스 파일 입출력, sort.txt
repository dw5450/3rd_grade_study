

////////////////////////////////////////////////////////////////////
////////////////////0312 stl 2주차 첫 강의/////////////////////////
//dog 10000개를 저장 하고 그를 읽어서 소트 하기
//---------
/////////////////////////////////////////////////////////////////////
#include <iostream>
#include <string>
#include <random>
#include <Windows.h>
#include <Algorithm>	 b
#include <fstream>
#include "save.h"

using namespace std;

uniform_int_distribution<int> uid(0, 100);
default_random_engine dre;


class Dog
{
	int age;
	char name[10] = "unknown";

public:
	Dog() : age(uid(dre)) {}
	int getAge()const { return age; }

};


int main()
{
	int dogs_num = 10000;
	Dog dogs[10000];
	

	////dogs를 쓰자!
	//ofstream out("개 10000마리", ios::binary);
	//out.write((const char *) dogs, sizeof(Dog) * dogs_num);


	//dogs를 읽자!

	ifstream in("개 10000마리", ios::binary);
	in.read((char *)dogs, sizeof(Dog) * dogs_num);

	//sort(시작 지점, 끝지점, 비교함수 )
	sort(begin(dogs), end(dogs), [](Dog & d1, Dog & d2)
	{
		return d1.getAge() < d2.getAge();
	});

	

	for(int i=0; i<100; i++)
		cout << dogs[i].getAge() << endl;


	
	save();
	system("pause");
}



